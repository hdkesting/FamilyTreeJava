<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- Generated Dec 30, 2016 12:36:27 PM by Hibernate Tools 4.3.1 -->
<hibernate-mapping>
    <class name="nl.hdkesting.familyTree.infrastructure.models.Family" table="family" catalog="familytree" optimistic-lock="version">
        <meta attribute ="class-description"> Family relation </meta>
        <id name="id" type="integer" column="id" />
        <property name="marriageDate" type="date" />
        <property name="marriagePlace" type="string" />
        <property name="divorceDate" type="date" />
        <property name="divorcePlace" type="string" />

        <set name="spouses" table="spouses">
            <key column="id" foreign-key="familyid"/>
            <one-to-many class="Individual" />
        </set>

        <set name="children" table="children">
            <key column="id" foreign-key="familyid"/>
            <one-to-many class="Individual" />
        </set>
    </class>
        <!--
    private Long id;
    private Date marriageDate;
    private String marriagePlace;
    private Date divorceDate;
    private String divorcePlace;

    private Set<Individual> spouses;
    private Set<Individual> children;
-->

    <class name="nl.hdkesting.familyTree.infrastructure.models.Individual" table="individual" catalog="familytree">
        <meta attribute ="class-description"> Individual </meta>
        <id name="id" type="integer" column="id"/>
        <property name="firstnames" type="string" />
        <property name="lastname" type="string" />
        <property name="sex" type="string" />
        <property name="birthDate" type="date" />
        <property name="birthPlace" type="string" />
        <property name="deathDate" type="date" />
        <property name="deathPlace" type="string" />

        <set name="childFamilies" table="children">
            <key column="id" foreign-key="childid"/>
            <one-to-many class="Family" />
        </set>

        <set name="spouseFamilies" table="spouses">
            <key column="id" foreign-key="spouseid"/>
            <one-to-many class="Family" />
        </set>

    </class>

    <!--
       private Long id;
    private String firstNames;
    private String lastName;
    private char sex; // 'M' or 'F'
    private Date birthDate;
    private String birthPlace;
    private Date deathDate;
    private String deathPlace;

    private Set<Family> spouseFamilies;
    private Set<Family> childFamilies;

    -->
</hibernate-mapping>
